/*! project-name v0.0.1 | (c) 2021 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
const firstVillageId="cerro_de_leones",firstVillageIndex=villagesData.findIndex(e=>e.village_id===firstVillageId),villages=d3.select(".glide__slides").selectAll(".glide__slide").data(villagesData).join("li").attr("class","glide__slide").append("div").attr("class",e=>`village village-${e.village_id}`);villages.append("h2").text(e=>e.village_name);const sections=villages.append("div").attr("class","sections"),section=sections.selectAll(".section").data(e=>e.sections).join("div").attr("class",e=>`section section-${e.sct_id}`);section.append("div").attr("class","sct-illustration").html(e=>e.illustration),section.append("div").attr("class","sct-description").html(e=>e.description);const carousel=new Glide(".glide",{type:"carousel",focusAt:"center",perView:1,startAt:firstVillageIndex}).mount(),updateCarouselButtons=e=>{const s=villagesData[e-1]?villagesData[e-1]:villagesData[villagesData.length-1];d3.select(".glide__arrow--left .btn-label").text(s.village_name);const l=villagesData[e+1]?villagesData[e+1]:villagesData[0];d3.select(".glide__arrow--right .btn-label").text(l.village_name)};updateCarouselButtons(firstVillageIndex),carousel.on("run",()=>{updateCarouselButtons(carousel.index)});const arrowsToggle=document.querySelector(".arrows-toggle"),carouselArrows=document.querySelector(".glide__arrows");window.addEventListener("scroll",()=>{arrowsToggle.getBoundingClientRect().top<=300?(carouselArrows.classList.contains("hidden")&&carouselArrows.classList.remove("hidden"),carouselArrows.classList.contains("enter")||(carouselArrows.classList.remove("exit"),carouselArrows.classList.add("enter"))):arrowsToggle.getBoundingClientRect().top>300&&!carouselArrows.classList.contains("exit")&&(carouselArrows.classList.remove("enter"),carouselArrows.classList.add("exit"))});